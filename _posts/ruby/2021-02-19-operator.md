---
title: rubyì—ëŠ” operatorê°™ì€ê±° ì—†ë‹¤
layout: single
order_id: 1
categories:
  - ruby
  - programming
language: KR
excerpt: ë£¨ë¹„ë¡œ Operator Overloadingë¹„ìŠ·í•œê±° í•´ë³´ë©´ì„œ ì´ëŸ°ì €ëŸ° ê¸°ë¡
---

## rubyì—ì„  operatorê°€ method

> +, -, and the like are not operators but method calls.  
> They can, therefore, be overloaded by new definitions.

operatorê°€ ì•„ë‹ˆë¼ method...ğŸ¤”

> ë£¨ë¹„ëŠ” ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë‹¤.  
> íŠ¹ë³„í•œ ì ì€ ê¸°ë³¸í˜•ì´ ì¡´ì¬í•˜ì§€ ì•Šê³  **ëª¨ë“  ê²ƒì´ ê°ì²´ë¼ëŠ” ê²ƒì´ë‹¤**

ëª¨ë“ ê²ƒì´ ê°ì²´ë©´ ëª¨ë“ ê²ƒì´ methodë¥¼ ê°€ì§€ê³ , methodì´ë¦„ìœ¼ë¡œ ì—°ì‚°ìë¥¼ ì¨ë„ ëœë‹¤ëŠ”ê±°ë„¤ğŸ˜


## `+`, `-`ë¥¼ instance methodëª…ìœ¼ë¡œ

ì¼ë‹¨ ì•„ë¬´ í´ë˜ìŠ¤ë‚˜ ë§Œë“¤ì–´ì„œ, C++ì—ì„œ í–ˆë˜ operator overloading ë¹„ìŠ·í•œê±¸ í•´ë³´ì.

```ruby
irb(main):001:1* class TempClass
irb(main):002:1*   attr_accessor :str
irb(main):003:2*   def -@
irb(main):004:2*     str.upcase
irb(main):005:1*   end
irb(main):006:2*   def +@
irb(main):007:2*     str.downcase
irb(main):008:1*   end
irb(main):009:0> end
=> :+@
irb(main):010:0> tempInstance = TempClass.new
=> #<TempClass:0x0000000002a87bc0>
irb(main):011:0> tempInstance.str = "This Is Test String"
=> "This Is Test String"
irb(main):012:0> +tempInstance
=> "this is test string"
irb(main):014:0> -tempInstance
=> "THIS IS TEST STRING"
```

@ì„ ë¶™ì´ë©´ unary operatorë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.  
TempClass ë‚´ë¶€ì˜ strì„ upper case, lower caseë¡œ ë³€í™˜í•˜ëŠ” ë©”ì†Œë“œë¥¼ ì •ì˜í•˜ë‹ˆ ì˜ëœë‹¤.


## ê·¸ëŸ¼ `+`ëŠ” ì–¸ì œë¶€í„° íŠ€ì–´ë‚˜ì˜¬ê¹Œ?

ì°¾ì•„ë³´ë‹ˆ Classì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ê°€ì§„ ëª¨ë“  ë©”ì†Œë“œë¥¼ ë³´ì—¬ì£¼ëŠ” `instance_method`ë¼ëŠ” ì¢‹ì€ê²Œ ìˆë‹¤.

```ruby
irb(main):001:0> Object.instance_methods
=> [:dup, :itself, :yield_self, :then, :taint, :tainted?, :untaint, \  
:untrust, :untrusted?, :trust, :frozen?, :methods, :singleton_methods, \  
:protected_methods, :private_methods, :public_methods, :instance_variables, \  
:instance_variable_get, :instance_variable_set, :instance_variable_defined?, \  
:remove_instance_variable, :instance_of?, :kind_of?, :is_a?, :tap, :clone, \  
:display, :hash, :class, :singleton_class, :public_send, :method, \  
:public_method, :singleton_method, :define_singleton_method, :extend, \  
:to_enum, :enum_for, :<=>, :===, :=~, :!~, :nil?, :eql?, :respond_to?, \  
:freeze, :inspect, :object_id, :send, :to_s, :__send__, :!, :==, :!=, \  
:equal?, :__id__, :instance_eval, :instance_exec]
```

Objectì—ëŠ” `:+`ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤...ğŸ¤¨?  
ê·¸ë ‡ë‹¤ë©´ Ingeterì˜ `:+`ëŠ” ì–´ëŠì‹œì ë¶€í„° ìƒê¸°ëŠ”ê±´ê°€?

```ruby
irb(main):002:0> Integer.method_defined?(:+)
=> true
irb(main):003:0> Integer.superclass
=> Numeric
irb(main):004:0> Numeric.method_defined?(:+)
=> false
irb(main):005:0> Object.method_defined?(:+)
=> false
```
Ingeterì— ì™€ì„œì•¼ +ë¼ëŠ”ê²Œ ìƒê¸°ê¸° ì‹œì‘í•œë‹¤.


## ì• ì´ˆì— ì´ ì£¼ì œì— ê½‚íŒ ì´ìœ 

ì§€ê¸ˆ ì½ê³  ìˆëŠ” ì±…ì˜ ì´ˆë°˜ë¶€ì— ì‹¤ë¦°

> ì—°ì‚°ì‚¬ ì¤‘ì— ë‹¤ìŒê³¼ ê°™ì€ ê²ƒì€ ë©”ì†Œë“œë¡œ ì •ì˜ë¼ ìˆë‹¤.  
> | ^ & <=> == === =~ > >= ......

ì´ ë‚´ìš©ì„ ë³´ê³ , operator overloadingì´ì–ì•„? ë¼ê³  ìƒê°í–ˆë‹¤.  

ì°¸ê³ ë¡œ C++ì—ì„œëŠ” 
> Customizes the C++ operators for operands of user-defined types.   
> By overloading standard operators on a class, you can exploit the intuition of the users of that class.   
> This lets users program in the language of the problem domain rather than in the language of the machine.

ë” ì§ê´€ì ìœ¼ë¡œ ë°›ì•„ë“¤ì¼ ìˆ˜ ìˆê²Œë” í•˜ëŠ” syntax sugar ì •ë„ì´ë©°,  
ì¼ë°˜ì ìœ¼ë¡œ ë¬¸ìì—´ ë‘ê°œë¥¼ ë”í•˜ëŠ”ê²Œ ë¬¸ìì—´ ë‘ê°œë¥¼ ì´ì–´ë¶™ì´ëŠ”ê²ƒì´ë‚˜,  
ë³µì†Œí‰ë©´ì—ì„œëŠ” ë³µì†Œìˆ˜ì˜ ë§ìƒ˜ì„ ì •ì˜í•˜ê±°ë‚˜...  
ê·¸ëƒ¥ ì“°ëŠ”ê²Œ ì˜ˆì•½ì–´ ì´ë‹¤ë³´ë‹ˆ operator overloadingìì²´ê°€ í•˜ë‚˜ì˜ syntaxë§ˆëƒ¥ ë˜ì–´ë²„ë¦° ê²ƒì´ë‹¤.

ë¬¼ë¡  ìë°”ì—ì„œëŠ” operator overloadingì€ ì§€ì›í•˜ì§€ ì•ŠëŠ”ê²ƒì„ ë³´ë©´ ì•Œ ìˆ˜ ìˆë“¯ì´,  
ì´ê²Œ ê°ì²´ì§€í–¥ ì–¸ì–´ì—ì„œ í•„ìˆ˜ë¶ˆê°€ê²°í•œ ìš”ì†ŒëŠ” ì•„ë‹ˆë‹ˆê¹Œ ë¬´ì‹œí•˜ê³  ë„˜ì–´ê°€ë„ ë˜ëŠ” ë¶€ë¶„ì´ë‹¤.

ì´ê±¸ methodë¡œ ì²˜ë¦¬í•´ë²„ë ¸ë‹¤ëŠ” ì´ì§ˆê°ë•Œë¬¸ì´ì§€...


## ë§ˆìŒëŒ€ë¡œ ë‚´ë¦° ê²°ë¡  

**ìˆ˜í•™ì  ì˜ë¯¸ì˜ operatorë“¤ì´ ì˜ˆì•½ì–´ê°€ ì•„ë‹ˆë‹¤. ê·¸ë˜ì„œ methodëª…ì— ì¨ë„ ëœë‹¤**  
ë¼ëŠ” ì ‘ê·¼ìœ¼ë¡œ ëë‚¼ë€ë‹¤ğŸ˜‘

'ruby operator overloading'ì„ í•˜ë©´ ë‚˜ì˜¤ëŠ” ìˆ˜ë§ì€ ë¬¸ì„œë“¤ì€,  
ë‚˜ê°™ì€ ì‚¬ëŒí•œí…Œ 'ì´ëŸ°ê±°ë„ ë¼ìš”~'ë¼ëŠ” ê¸°ëŠ¥ì ì¸ ë©´ì„ ì„¤ëª…í•˜ê¸° ìœ„í•œ í•˜ë‚˜ì˜ ë¬¸ì¥ì— ì§€ë‚˜ì§€ ì•ŠëŠ” ê²ƒì´ê³ .


## ì—¬ë‹´

ì´ì¯¤ë˜ë©´, `+, -, and the like are not operators but method calls.`ì˜ ì´í•´ëŠ” ìƒê´€ì—†ë‹¤.  
**`+`ë¥¼ 'overloading'í•˜ê² ë‹¤**ëŠ” ì˜¤ê¸°ê°€ ìƒê²¼ë‹¤.

í•˜ì§€ë§Œ ì‹¤ì œë¡œ í•´ë³´ë ¤ê³  í•˜ë©´ Integer í´ë˜ìŠ¤ëŠ” ìƒì†ì„ í•´ë„ ë­˜ í•  ìˆ˜ê°€ ì—†ëŠ” ìƒíƒœì´ë‹¤.  

ê²€ìƒ‰ ê²°ê³¼, Fixnum(2.4ì´í›„ Integerë¡œ í†µí•©)ì€ immediate valueì´ë‹¤.  
ê·¸ë˜ì„œ instanceë¥¼ ë§Œë“¤ì–´ë´ì•¼, heap allocationì´ ì•ˆë˜ê²Œ ë˜ì–´ìˆë‹¤.  
method ì¶”ê°€ê°€ ë ë¦¬ë„ ì—†ê³ , ìƒì†ì´ ë  ìˆ˜ë„ ì—†ì§€.  
(ì´ê²ƒë„ rubyë¼ëŠ” ì–¸ì–´ ìì²´ê°€ ê°€ì§„ íŠ¹ì„±ì€ ì•„ë‹ˆë¼ê³  í•œë‹¤. ê³µì‹ë¬¸ì„œì—ì„œ ë‹¤ë£¨ëŠ” YARVë¼ëŠ” ë²„ì „ì—ë§Œ í•´ë‹¹.)


...ê·¸ë˜ë„ ì´ê±´ ì¢€ ì¬ë°Œë„¤  
```ruby
irb(main):001:0> 1.class
=> Integer
irb(main):002:0> 1.+(2)
=> 3
irb(main):003:0> 1.-@
=> -1
irb(main):004:0>
```

## ì´ë²ˆ ì‚½ì§ˆë¡œ ì•Œê²Œëœ ê²ƒ

* rubyëŠ” ëª¨ë“ ê²ƒì´ ê°ì²´ì´ë‹¤ ë¼ëŠ”ê²ƒì„ ê¹¨ë‹¬ìŒ
* ëª¨ë“ ê²ƒì€ ê³µì‹ ë¬¸ì„œì— ì í˜€ìˆë‹¤. êµ¬ê¸€ë§ë„ ë¯¿ê¸° í˜ë“  ì„¸ìƒì´ì•¼.
* ì˜¤í”ˆì†ŒìŠ¤ëŠ” ì§‘ë‹¨ì§€ì„±ì˜ ì‚°ë¬¼ì¸ê°€ ì‚¬ê³µì´ ë§ì€ ë°°ì¸ê°€?
* ë£¨ë¹„ì—ëŠ” instance_methodê°™ì€ í•¨ìˆ˜ê°€ ìˆë‹¤
* immediate valueì˜ ê¸°ì–µì„ ë˜ì‚´ë ¸ë‹¤


## Reference
[Ruby FAQ : Are +,-,\*,...operators?](https://www.ruby-lang.org/en/documentation/faq/7/)  
[C++ operator overloding](https://en.cppreference.com/w/cpp/language/operators)  
[Sub-classing Fixnum in ruby](https://stackoverflow.com/a/1095861)
[What is the difference between an immediate value and a reference?](https://www.ruby-lang.org/en/documentation/faq/6/)
